var module=angular.module("dat.gui",[]);module.directive("datGui",function(){return{restrict:"E",transclude:!0,controller:angular.noop,controllerAs:"datGui",bindToController:{hidden:"@",closed:"@"},scope:{closedLabel:"@",openedLabel:"@"},template:'<div class="dg main" ng-hide="datGui.hidden">		<ul ng-transclude ng-hide="datGui.closed"></ul>		<dat-gui-close-btn closed="datGui.closed" closed-label="{{closedLabel}}" opened-label="{{openedLabel}}"/>		</div>'}}),module.directive("datGuiFolder",function(){return{restrict:"EA",require:"^^datGui",scope:{title:"@",closed:"@"},transclude:!0,template:'<li class="folder">			<div class="dg">				<ul ng-class="{ closed : closed }">					<li class="title" ng-bind="title" ng-click="closed = !closed"></li>					<ng-transclude></ng-transclude>				</ul>			</div>		</li>'}}),module.directive("datGuiControl",function(){return{restrict:"EA",transclude:!0,require:"^^datGui",scope:{propertyName:"@",type:"@"},template:'<li class="cr" ng-class="type">			<div>				<span class="property-name" ng-bind="propertyName"></span>				<div class="c" ng-transclude></div>			</div>		</li>',link:function(e,n){var t;e.type||((t=n.find("dat-gui-slider")).length?e.type="number has-slider":(t=n.find("input")).length&&(e.type={number:"number",checkbox:"boolean"}[t.attr("type")])),e.type=e.type||"string"}}}),module.directive("datGuiCloseBtn",function(){return{restrict:"E",require:"^^datGui",scope:{closed:"=",closedLabel:"@",openedLabel:"@"},template:'<div class="close-button" ng-click="closed = !closed" 			ng-bind="closed ? openedLabel || \'Open Controls\' : closedLabel || \'Close Controls\'"></div>',link:function(e,n){var t=n.parent()[0],l=t.style.width||t.getBoundingClientRect().width+"px";n.find("div").css("width",l)}}}),module.directive("datGuiSlider",function(){return{restrict:"E",transclude:!0,scope:{min:"@",max:"@",step:"@"},require:["^ngModel","^^datGui"],template:'<div class="slider">				<div class="slider-fg" style="width: 100%;"></div>			</div>			<div>				<input type="number" ng-model="_model.$viewValue" min="{{min}}" max="{{max}}" step="{{step}}"/>			</div>',link:function(e,n,t,l){window.ngModel=l[0];var i=e._model=l[0],d=angular.element(n[0].getElementsByClassName("slider")),s=angular.element(n[0].getElementsByClassName("slider-fg")),a=n.find("input");i.$render=function(){var n=(i.$viewValue-e.min)/(e.max-e.min)*100;s.css("width",n+"%")},d.on("mousedown",function(){function n(n){var l=(n.clientX-t.left)/t.width*(e.max-e.min)+e.min;e.step&&(l=Math.round(l/e.step)*e.step),l=Math.min(e.max,Math.max(e.min,l)),i.$setViewValue(l,n),i.$render()}var t=d[0].getBoundingClientRect();angular.element(window).on("mousemove",n).one("mouseup",function(){angular.element(window).off("mousemove",n)})}),a.on("change keyup",function(e){i.$setViewValue(i.$viewValue,e),i.$render()})}}});